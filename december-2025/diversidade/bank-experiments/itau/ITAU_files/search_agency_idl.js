function init(){var e=document.getElementsByClassName("idl-btn-search-agency"),e=(e&&e[0]&&e[0].addEventListener("click",function(e){e.preventDefault(),handleClick()}),document.getElementById("idl-input-search-agency"));null!=e&&e.addEventListener("keypress",handleButtonKeyboardEvent),geolocation()}function handleClick(){var e,n=document.querySelector("#idl-input-search-agency").value,t=window.location.origin;n&&(sendAnalytics(),e="mapa-de-agencias",window.location.href.includes("personnalite")&&(e="".concat(e,"/personnalite")),localStorage.setItem("agency_map_search",n),window.location.href="".concat(t,"/").concat(e))}function handleButtonKeyboardEvent(e){"Enter"==e.key&&(e.preventDefault(),handleClick())}function sendAnalytics(){var e=document.getElementsByClassName("idl-btn-search-agency"),n="",e=n=e&&e[0]?e[0].textContent:n,n=n.replace(/\s+/g,"");window.iTagger.track({event_name:"click",parameters:{detail:"lnk:search-agency:"+window.SkewerCase(e,!0),custom_path:window.pageNameGA4,implementation_team:window.implementation_team}})}function geolocation(){var e=document.querySelector(".map-location_button");null!=e&&e.addEventListener("click",function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,e=e.coords.longitude,n="/mapa-de-agencias?lat=".concat(n,"&long=").concat(e);window.location.href=n}):console.error("Geolocation is not supported by this browser.")})}function onLoad(){init()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=init,exports.handleClick=handleClick,exports.handleButtonKeyboardEvent=handleButtonKeyboardEvent,exports.geolocation=geolocation,exports.onLoad=onLoad,document.addEventListener("DOMContentLoaded",onLoad);